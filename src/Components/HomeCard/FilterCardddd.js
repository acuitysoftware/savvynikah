// Import libraries
import React, { useCallback, useState } from 'react';
import { View, Text, StyleSheet, Pressable, ScrollView } from 'react-native';
import { Icon, RadioButton, useTheme } from 'react-native-basic-elements';
import { moderateScale } from '../../Constants/PixelRatio';
import { FONTS } from '../../Constants/Fonts';
import Slider from 'rn-range-slider';
import AgeThumb from '../AgeSlider/AgeThumb';
import AgeRail from '../AgeSlider/AgeRail';
import AgeRailSelected from '../AgeSlider/AgeRailSelected';
import AgeLabel from '../AgeSlider/AgeLabel';
import AgeNotch from '../AgeSlider/AgeNotch';

// Create a component
const FilterCardddd = ({ setModalVisible }) => {
    const colors = useTheme();
    const [selectedCaste, setSelectedCaste] = useState(null);
    const [sliderValues, setSliderValues] = useState({ min: 18, max: 100 });
    const [rangeDisabled, setRangeDisabled] = useState(false);
    const [low, setLow] = useState(18);
    const [high, setHigh] = useState(100);
    const [min, setMin] = useState(18);
    const [max, setMax] = useState(100);
    const [floatingLabel, setFloatingLabel] = useState(false);

    const renderThumb = useCallback(() => <AgeThumb />, []);
    const renderRail = useCallback(() => <AgeRail />, []);
    const renderRailSelected = useCallback(() => <AgeRailSelected />, []);
    const renderLabel = useCallback(value => <AgeLabel text={value} />, []);
    const renderNotch = useCallback(() => <AgeNotch />, []);

    const handleValueChange = useCallback((lowValue, highValue) => {
        setLow(lowValue);
        setHigh(highValue);
    }, []);

    const toggleRangeEnabled = useCallback(
        () => setRangeDisabled(!rangeDisabled),
        [rangeDisabled]
    );

    const setMinTo50 = useCallback(() => setMin(50), []);
    const setMinTo0 = useCallback(() => setMin(0), []);
    const setMaxTo100 = useCallback(() => setMax(100), []);
    const setMaxTo500 = useCallback(() => setMax(500), []);
    const toggleFloatingLabel = useCallback(
        () => setFloatingLabel(!floatingLabel),
        [floatingLabel]
    );
    const castes = ['OBC', 'SC', 'ST'];
    const matritalStatus = ['Not Marriage', '1st Marriage', '2nd Marriage', '3rd Marriage'];
    const education = ['MBBA', 'BCA', 'BA', 'MTECH'];
    const ocupation = ['Teacher', 'Doctor', 'Engineer', 'Business'];
    return (
        <View style={styles.container}>
            <ScrollView showsVerticalScrollIndicator={false}>
                <View style={styles.caste_view}>
                    <Text style={{ ...styles.caste_txt, color: colors.primaryFontColor }}>Caste</Text>
                    {/* <Pressable onPress={() => setModalVisible(false)}>
                        <Icon name='close' type='AntDesign' color={colors.primaryFontColor} />
                    </Pressable> */}
                </View>
                {castes.map((caste, index) => (
                    <View style={styles.caste_list_view} key={index}>
                        <RadioButton
                            selected={selectedCaste === caste}
                            onChange={() => setSelectedCaste(caste)}
                            size={18}
                            containerStyle={{ borderWidth: 1 }}
                            activeColor={colors.primaryFontColor}
                        />
                        <Text style={{ ...styles.caste_title, color: colors.primaryFontColor }}>{caste}</Text>
                    </View>
                ))}
                <View style={styles.caste_view}>
                    <Text style={{ ...styles.caste_txt, color: colors.primaryFontColor }}>Age</Text>
                    <Text style={{ ...styles.agerange_txt, color: colors.primaryFontColor }}>18Years</Text>
                </View>
                <View style={styles.sliderContainer}>
                    <Slider
                        lider
                        style={styles.slider}
                        min={min}
                        max={max}
                        low={low}
                        high={high}
                        step={1}
                        disableRange={rangeDisabled}
                        floatingLabel={floatingLabel}
                        renderThumb={renderThumb}
                        renderRail={renderRail}
                        renderRailSelected={renderRailSelected}
                        renderLabel={renderLabel}
                        renderNotch={renderNotch}
                        onValueChanged={handleValueChange}
                    />
                </View>
                <View style={styles.caste_view}>
                    <Text style={{ ...styles.caste_txt, color: colors.primaryFontColor }}>Height</Text>
                    <Text style={{ ...styles.agerange_txt, color: colors.primaryFontColor }}>185 cm</Text>
                </View>
                <View style={styles.sliderContainer}>
                    <Slider
                        lider
                        style={styles.slider}
                        min={min}
                        max={max}
                        low={low}
                        high={high}
                        step={1}
                        disableRange={rangeDisabled}
                        floatingLabel={floatingLabel}
                        renderThumb={renderThumb}
                        renderRail={renderRail}
                        renderRailSelected={renderRailSelected}
                        renderLabel={renderLabel}
                        renderNotch={renderNotch}
                        onValueChanged={handleValueChange}
                    />
                </View>

                <View style={styles.caste_view}>
                    <Text style={{ ...styles.caste_txt, color: colors.primaryFontColor }}>Matrital Status</Text>
                </View>
                {matritalStatus.map((caste, index) => (
                    <View style={styles.caste_list_view} key={index}>
                        <RadioButton
                            selected={selectedCaste === caste}
                            onChange={() => setSelectedCaste(caste)}
                            size={18}
                            containerStyle={{ borderWidth: 1 }}
                            activeColor={colors.primaryFontColor}
                        />
                        <Text style={{ ...styles.caste_title, color: colors.primaryFontColor }}>{caste}</Text>
                    </View>
                ))}

                <View style={styles.caste_view}>
                    <Text style={{ ...styles.caste_txt, color: colors.primaryFontColor }}>Education</Text>
                </View>
                {education.map((caste, index) => (
                    <View style={styles.caste_list_view} key={index}>
                        <RadioButton
                            selected={selectedCaste === caste}
                            onChange={() => setSelectedCaste(caste)}
                            size={18}
                            containerStyle={{ borderWidth: 1 }}
                            activeColor={colors.primaryFontColor}
                        />
                        <Text style={{ ...styles.caste_title, color: colors.primaryFontColor }}>{caste}</Text>
                    </View>
                ))}

                <View style={styles.caste_view}>
                    <Text style={{ ...styles.caste_txt, color: colors.primaryFontColor }}>Ocupation</Text>
                </View>
                {ocupation.map((caste, index) => (
                    <View style={styles.caste_list_view} key={index}>
                        <RadioButton
                            selected={selectedCaste === caste}
                            onChange={() => setSelectedCaste(caste)}
                            size={18}
                            containerStyle={{ borderWidth: 1 }}
                            activeColor={colors.primaryFontColor}
                        />
                        <Text style={{ ...styles.caste_title, color: colors.primaryFontColor }}>{caste}</Text>
                    </View>
                ))}
            </ScrollView>
        </View>
    );
};

// Define your styles
const styles = StyleSheet.create({
    container: {
        flex: 1,
        marginHorizontal: moderateScale(15),
        paddingBottom:moderateScale(15)
    },
    caste_view: {
        flexDirection: 'row',
        justifyContent: 'space-between',
        marginTop: moderateScale(20),
    },
    caste_txt: {
        fontFamily: FONTS.Inter.semibold,
        fontSize: moderateScale(14)
    },
    caste_list_view: {
        flexDirection: 'row',
        marginTop: moderateScale(13)
    },
    caste_title: {
        marginLeft: moderateScale(10),
        fontFamily: FONTS.Inter.regular,
        fontSize: moderateScale(12)
    },
    agerange_txt: {
        fontFamily: FONTS.Inter.regular,
        fontSize: moderateScale(12)
    },
    sliderContainer: {
        marginTop: moderateScale(2),
    },
    slider: {
        marginBottom: moderateScale(0),
        marginTop: moderateScale(-43)
    }
});

// Make this component available to the app
export default FilterCardddd;
